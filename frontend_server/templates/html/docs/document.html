{% load hosts %}

<link rel="stylesheet" type="text/css" href="{% static 'css/div.css' %}">
<link rel="stylesheet" type="text/css" href="{% static 'css/form.css' %}">
<link rel="stylesheet" type="text/css" href="{% static 'css/p.css' %}">
<link rel="stylesheet" type="text/css" href="{% static 'css/docs/document.css' %}">


<div class="center_div document_title">
    <h1> {{ document.title }} </h1>
    {% if document.authors.all|length == 1 %}
    <i>Author:</i>
    {% else %}
    <i>Authors:</i>
    {% endif %}
    <b>
        {% with document.authors.all|length as last_index %}
        {% with document.authors.all.last as last %}
            {% for author in document.authors.all %}
                <a href="{% host_url 'user_page' author.username host 'base' %}">
                    {{ author.public_name }}
                </a>
                {% if author != last %}
                    ,
                {% endif %}
            {% endfor %}
        {% endwith %}
        {% endwith %}
    </b>
    <br>
    <i> Date created: {{ document.date_created|date:'d M Y H:i' }} </i>
    {% if can_edit %}
        <br>
        <br>
        <div class="buttons_wrapper">
            <div class="inline_button">
                <a href="{% url 'edit_document' document.id %}">
                    <input type="submit" value="Edit" />
                </a>
            </div>
            <div class="inline_button">
                <a href="{% url 'remove_document' document.id %}">
                    <input type="submit" value="Remove" />
                </a>
            </div>
        </div>
    {% endif %}
</div>
<div class="center_div document_view">
    {{ document.html_data|safe }}
</div>
